function e(e,n,t,r){Object.defineProperty(e,n,{get:t,set:r,enumerable:!0,configurable:!0})}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function t(e){return e&&e.__esModule?e.default:e}var r={},i={},a=n.parcelRequire79ad;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in i){var n=i[e];delete i[e];var t={id:e,exports:{}};return r[e]=t,n.call(t.exports,t,t.exports),t.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){i[e]=n},n.parcelRequire79ad=a),a.register("27Lyk",(function(n,t){var r,i;e(n.exports,"register",(()=>r),(e=>r=e)),e(n.exports,"resolve",(()=>i),(e=>i=e));var a={};r=function(e){for(var n=Object.keys(e),t=0;t<n.length;t++)a[n[t]]=e[n[t]]},i=function(e){var n=a[e];if(null==n)throw new Error("Could not resolve bundle with id "+e);return n}})),a("27Lyk").register(JSON.parse('{"f9fpV":"index.341428bb.js","eyyUD":"icons.9801e6f1.svg"}'));var s,o,c={},u=function(e){return e&&e.Math==Math&&e};c=u("object"==typeof globalThis&&globalThis)||u("object"==typeof window&&window)||u("object"==typeof self&&self)||u("object"==typeof n&&n)||function(){return this}()||Function("return this")();var l,d,p;l=!(d=function(e){try{return!!e()}catch(e){return!0}})((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}));var f={}.propertyIsEnumerable,g=Object.getOwnPropertyDescriptor,h=g&&!f.call({1:2},1);p=h?function(e){var n=g(this,e);return!!n&&n.enumerable}:f;var v;v=function(e,n){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:n}};var _,m,b={},y={}.toString;m=function(e){return y.call(e).slice(8,-1)};var k="".split;b=d((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==m(e)?k.call(e,""):Object(e)}:Object;var w;w=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},_=function(e){return b(w(e))};var S,E,O,M;M=function(e){return"function"==typeof e},O=function(e){return"object"==typeof e?null!==e:M(e)};var $,j,P,T,L={},H=function(e){return M(e)?e:void 0},q={};q=($=function(e,n){return arguments.length<2?H(c[e]):c[e]&&c[e][n]})("navigator","userAgent")||"";var x,I,C=c.process,R=c.Deno,A=C&&C.versions||R&&R.version,U=A&&A.v8;U?I=(x=U.split("."))[0]<4?1:x[0]+x[1]:q&&(!(x=q.match(/Edge\/(\d+)/))||x[1]>=74)&&(x=q.match(/Chrome\/(\d+)/))&&(I=x[1]),T=I&&+I,j=(P=!!Object.getOwnPropertySymbols&&!d((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&T&&T<41})))&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,L=j?function(e){return"symbol"==typeof e}:function(e){var n=$("Symbol");return M(n)&&Object(e)instanceof n};var F,N,D;D=function(e){try{return String(e)}catch(e){return"Object"}},N=function(e){if(M(e))return e;throw TypeError(D(e)+" is not a function")},F=function(e,n){var t=e[n];return null==t?void 0:N(t)};var B;B=function(e,n){var t,r;if("string"===n&&M(t=e.toString)&&!O(r=t.call(e)))return r;if(M(t=e.valueOf)&&!O(r=t.call(e)))return r;if("string"!==n&&M(t=e.toString)&&!O(r=t.call(e)))return r;throw TypeError("Can't convert object to primitive value")};var z;var W,G={};W=function(e,n){try{Object.defineProperty(c,e,{value:n,configurable:!0,writable:!0})}catch(t){c[e]=n}return n};var J=c["__core-js_shared__"]||W("__core-js_shared__",{});G=J,(z=function(e,n){return G[e]||(G[e]=void 0!==n?n:{})})("versions",[]).push({version:"3.18.1",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"});var V,Q={};V=function(e){return Object(w(e))};var Y={}.hasOwnProperty;Q=Object.hasOwn||function(e,n){return Y.call(V(e),n)};var K,X=0,Z=Math.random();K=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++X+Z).toString(36)};var ee=z("wks"),ne=c.Symbol,te=j?ne:ne&&ne.withoutSetter||K,re=function(e){return Q(ee,e)&&(P||"string"==typeof ee[e])||(P&&Q(ne,e)?ee[e]=ne[e]:ee[e]=te("Symbol."+e)),ee[e]}("toPrimitive");E=function(e,n){if(!O(e)||L(e))return e;var t,r=F(e,re);if(r){if(void 0===n&&(n="default"),t=r.call(e,n),!O(t)||L(t))return t;throw TypeError("Can't convert object to primitive value")}return void 0===n&&(n="number"),B(e,n)},S=function(e){var n=E(e,"string");return L(n)?n:String(n)};var ie,ae,se=c.document,oe=O(se)&&O(se.createElement);ae=function(e){return oe?se.createElement(e):{}},ie=!l&&!d((function(){return 7!=Object.defineProperty(ae("div"),"a",{get:function(){return 7}}).a}));var ce,ue,le=Object.getOwnPropertyDescriptor,de=o=l?le:function(e,n){if(e=_(e),n=S(n),ie)try{return le(e,n)}catch(e){}if(Q(e,n))return v(!p.call(e,n),e[n])},pe={};ue=function(e){if(O(e))return e;throw TypeError(String(e)+" is not an object")};var fe=Object.defineProperty;ce=l?fe:function(e,n,t){if(ue(e),n=S(n),ue(t),ie)try{return fe(e,n,t)}catch(e){}if("get"in t||"set"in t)throw TypeError("Accessors not supported");return"value"in t&&(e[n]=t.value),e},pe=l?function(e,n,t){return ce(e,n,v(1,t))}:function(e,n,t){return e[n]=t,e};var ge,he={},ve=Function.toString;M(G.inspectSource)||(G.inspectSource=function(e){return ve.call(e)}),he=G.inspectSource;var _e,me,be=c.WeakMap;me=M(be)&&/native code/.test(he(be));var ye,ke=z("keys");ye=function(e){return ke[e]||(ke[e]=K(e))};var we={};we={};var Se,Ee,Oe,Me=c.WeakMap;if(me||G.state){var $e=G.state||(G.state=new Me),je=$e.get,Pe=$e.has,Te=$e.set;Se=function(e,n){if(Pe.call($e,e))throw new TypeError("Object already initialized");return n.facade=e,Te.call($e,e,n),n},Ee=function(e){return je.call($e,e)||{}},Oe=function(e){return Pe.call($e,e)}}else{var Le=ye("state");we[Le]=!0,Se=function(e,n){if(Q(e,Le))throw new TypeError("Object already initialized");return n.facade=e,pe(e,Le,n),n},Ee=function(e){return Q(e,Le)?e[Le]:{}},Oe=function(e){return Q(e,Le)}}_e={set:Se,get:Ee,has:Oe,enforce:function(e){return Oe(e)?Ee(e):Se(e,{})},getterFor:function(e){return function(n){var t;if(!O(n)||(t=Ee(n)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return t}}};var He=Function.prototype,qe=l&&Object.getOwnPropertyDescriptor,xe=Q(He,"name"),Ie={EXISTS:xe,PROPER:xe&&"something"===function(){}.name,CONFIGURABLE:xe&&(!l||l&&qe(He,"name").configurable)}.CONFIGURABLE,Ce=_e.get,Re=_e.enforce,Ae=String(String).split("String");(ge=function(e,n,t,r){var i,a=!!r&&!!r.unsafe,s=!!r&&!!r.enumerable,o=!!r&&!!r.noTargetGet,u=r&&void 0!==r.name?r.name:n;M(t)&&("Symbol("===String(u).slice(0,7)&&(u="["+String(u).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!Q(t,"name")||Ie&&t.name!==u)&&pe(t,"name",u),(i=Re(t)).source||(i.source=Ae.join("string"==typeof u?u:""))),e!==c?(a?!o&&e[n]&&(s=!0):delete e[n],s?e[n]=t:pe(e,n,t)):s?e[n]=t:W(n,t)})(Function.prototype,"toString",(function(){return M(this)&&Ce(this).source||he(this)}));var Ue,Fe,Ne,De,Be,ze={},We=Math.ceil,Ge=Math.floor;Be=function(e){return isNaN(e=+e)?0:(e>0?Ge:We)(e)};var Je=Math.min;De=function(e){return e>0?Je(Be(e),9007199254740991):0};var Ve,Qe=Math.max,Ye=Math.min;Ve=function(e,n){var t=Be(e);return t<0?Qe(t+n,0):Ye(t,n)};var Ke=function(e){return function(n,t,r){var i,a=_(n),s=De(a.length),o=Ve(r,s);if(e&&t!=t){for(;s>o;)if((i=a[o++])!=i)return!0}else for(;s>o;o++)if((e||o in a)&&a[o]===t)return e||o||0;return!e&&-1}},Xe={includes:Ke(!0),indexOf:Ke(!1)}.indexOf;Ne=function(e,n){var t,r=_(e),i=0,a=[];for(t in r)!Q(we,t)&&Q(r,t)&&a.push(t);for(;n.length>i;)Q(r,t=n[i++])&&(~Xe(a,t)||a.push(t));return a};var Ze,en=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype");Fe=Object.getOwnPropertyNames||function(e){return Ne(e,en)},Ze=Object.getOwnPropertySymbols,ze=$("Reflect","ownKeys")||function(e){var n=Fe(ue(e)),t=Ze;return t?n.concat(t(e)):n},Ue=function(e,n){for(var t=ze(n),r=ce,i=o,a=0;a<t.length;a++){var s=t[a];Q(e,s)||r(e,s,i(n,s))}};var nn={},tn=/#|\.prototype\./,rn=function(e,n){var t=sn[an(e)];return t==cn||t!=on&&(M(n)?d(n):!!n)},an=rn.normalize=function(e){return String(e).replace(tn,".").toLowerCase()},sn=rn.data={},on=rn.NATIVE="N",cn=rn.POLYFILL="P";nn=rn,s=function(e,n){var t,r,i,a,s,o=e.target,u=e.global,l=e.stat;if(t=u?c:l?c[o]||W(o,{}):(c[o]||{}).prototype)for(r in n){if(a=n[r],i=e.noTargetGet?(s=de(t,r))&&s.value:t[r],!nn(u?r:o+(l?".":"#")+r,e.forced)&&void 0!==i){if(typeof a==typeof i)continue;Ue(a,i)}(e.sham||i&&i.sham)&&pe(a,"sham",!0),ge(t,r,a,e)}};var un,ln;ln=function(e,n,t){if(N(e),void 0===n)return e;switch(t){case 0:return function(){return e.call(n)};case 1:return function(t){return e.call(n,t)};case 2:return function(t,r){return e.call(n,t,r)};case 3:return function(t,r,i){return e.call(n,t,r,i)}}return function(){return e.apply(n,arguments)}};var dn={};dn=$("document","documentElement");var pn;pn=/(?:ipad|iphone|ipod).*applewebkit/i.test(q);var fn;fn="process"==m(c.process);var gn,hn,vn,_n,mn=c.setImmediate,bn=c.clearImmediate,yn=c.process,kn=c.MessageChannel,wn=c.Dispatch,Sn=0,En={};try{gn=c.location}catch(e){}var On=function(e){if(En.hasOwnProperty(e)){var n=En[e];delete En[e],n()}},Mn=function(e){return function(){On(e)}},$n=function(e){On(e.data)},jn=function(e){c.postMessage(String(e),gn.protocol+"//"+gn.host)};mn&&bn||(mn=function(e){for(var n=[],t=arguments.length,r=1;t>r;)n.push(arguments[r++]);return En[++Sn]=function(){(M(e)?e:Function(e)).apply(void 0,n)},hn(Sn),Sn},bn=function(e){delete En[e]},fn?hn=function(e){yn.nextTick(Mn(e))}:wn&&wn.now?hn=function(e){wn.now(Mn(e))}:kn&&!pn?(_n=(vn=new kn).port2,vn.port1.onmessage=$n,hn=ln(_n.postMessage,_n,1)):c.addEventListener&&M(c.postMessage)&&!c.importScripts&&gn&&"file:"!==gn.protocol&&!d(jn)?(hn=jn,c.addEventListener("message",$n,!1)):hn="onreadystatechange"in ae("script")?function(e){dn.appendChild(ae("script")).onreadystatechange=function(){dn.removeChild(this),On(e)}}:function(e){setTimeout(Mn(e),0)}),un={set:mn,clear:bn},s({global:!0,bind:!0,enumerable:!0,forced:!c.setImmediate||!c.clearImmediate},{setImmediate:un.set,clearImmediate:un.clear});const Pn=(e,n)=>Object.keys(n).reduce(((t,r)=>({...t,[e[r]||r]:n[r]})),{}),Tn=async(e,n=null)=>{try{const r=n?fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}):fetch(e),i=await Promise.race([r,(t=10,new Promise((function(e,n){setTimeout((function(){n(new Error(`Request took too long! Timed out after ${t} seconds`))}),1e3*t)})))]),a=await i.json();if(!i.ok)throw new Error(`${a.message} (${i.status})`);return a}catch(e){throw e}var t};const Ln={recipe:{},search:{query:"",results:[],page:1,resultsPerPage:10},bookmarks:[]},Hn=function(e){Ln.search.page=e;const n=10*(e-1),t=n+10;return Ln.search.results.slice(n,t)},qn=function(e){Ln.bookmarks.push(e),e.id===Ln.recipe.id&&(Ln.recipe.isBookmarked=!0),xn()},xn=function(){localStorage.setItem("bookmarks",JSON.stringify(Ln.bookmarks))};!function(){const e=localStorage.getItem("bookmarks");e&&(Ln.bookmarks=JSON.parse(e))}();var In;In=new URL(a("27Lyk").resolve("eyyUD"),import.meta.url).toString();class Cn{_data=null;render(e,n=!0){if(!e||Array.isArray(e)&&0==e.length)return this.renderError();this._data=e;const t=this._generateMarkup();if(!n)return t;this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",t)}update(e){this._data=e;const n=this._generateMarkup(),t=document.createRange().createContextualFragment(n),r=Array.from(t.querySelectorAll("*")),i=Array.from(this._parentElement.querySelectorAll("*"));r.forEach(((e,n)=>{var t;const r=i[n];if(e.isEqualNode(r)||""===(null===(t=e.firstChild)||void 0===t?void 0:t.nodeValue.trim())||(r.textContent=e.textContent),!e.isEqualNode(r)){Array.from(e.attributes).forEach((e=>{r.setAttribute(e.name,e.value)}))}}))}_clear(){this._parentElement.innerHTML=""}renderSpinner(){const e=`\n      <div class="spinner">\n        <svg>\n          <use href="${t(In)}#icon-loader"></use>\n        </svg>\n      </div>\n    `;this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",e)}renderError(e=this._errorMessage){const n=`\n      <div class="error">\n        <div>\n          <svg>\n            <use href="${t(In)}#icon-alert-triangle"></use>\n          </svg>\n        </div>\n        <p>${e}</p>\n      </div>\n    `;this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",n)}renderMessage(e=this._successMessage){const n=`\n      <div class="message">\n        <div>\n          <svg>\n            <use href="${t(In)}#icon-smile"></use>\n          </svg>\n        </div>\n        <p>${e}</p>\n      </div>\n    `;this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",n)}}var Rn=new class extends Cn{_parentElement=document.querySelector(".recipe");_errorMessage="Sorry, we couldn't find the recipe you're looking for. Please try another one.";_successMessage="";_generateMarkup(){return`\n    <figure class="recipe__fig">\n        <img src="${this._data.imageUrl}" alt="${this._data.title}" class="recipe__img" crossOrigin= "anonymous" />\n        <h1 class="recipe__title">\n          <span>${this._data.title}</span>\n        </h1>\n      </figure>\n\n      <div class="recipe__details">\n        <div class="recipe__info">\n          <svg class="recipe__info-icon">\n            <use href="${t(In)}#icon-clock"></use>\n          </svg>\n          <span class="recipe__info-data recipe__info-data--minutes">${this._data.cookingTime}</span>\n          <span class="recipe__info-text">minutes</span>\n        </div>\n        <div class="recipe__info">\n          <svg class="recipe__info-icon">\n            <use href="${t(In)}#icon-users"></use>\n          </svg>\n          <span class="recipe__info-data recipe__info-data--people">${this._data.servings}</span>\n          <span class="recipe__info-text">servings</span>\n\n          <div class="recipe__info-buttons">\n            <button class="btn--tiny btn--update-servings" data-new-servings="${this._data.servings-1}">\n              <svg>\n                <use href="${t(In)}#icon-minus-circle"></use>\n              </svg>\n            </button>\n            <button class="btn--tiny btn--update-servings" data-new-servings="${this._data.servings+1}">\n              <svg>\n                <use href="${t(In)}#icon-plus-circle"></use>\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div class="recipe__user-generated ${this._data.key?"":"hidden"}">\n          <svg>\n            <use href="${t(In)}#icon-user"></use>\n          </svg>\n        </div>\n        <button class="btn--round btn--bookmark">\n          <svg class="">\n            <use href="${t(In)}#icon-bookmark${this._data.isBookmarked?"-fill":""}"></use>\n          </svg>\n        </button>\n      </div>\n\n      <div class="recipe__ingredients">\n        <h2 class="heading--2">Recipe ingredients</h2>\n        <ul class="recipe__ingredient-list">\n          ${this._data.ingredients.map(this._generateIngredientMarkup).join("")}\n        </ul>\n      </div>\n\n      <div class="recipe__directions">\n        <h2 class="heading--2">How to cook it</h2>\n        <p class="recipe__directions-text">\n          This recipe was carefully designed and tested by\n          <span class="recipe__publisher">${this._data.publisher}</span>. Please check out\n          directions at their website.\n        </p>\n        <a\n          class="btn--small recipe__btn"\n          href="${this._data.sourceUrl}"\n          target="_blank"\n        >\n          <span>Directions</span>\n          <svg class="search__icon">\n            <use href="${t(In)}#icon-arrow-right"></use>\n          </svg>\n        </a>\n      </div>\n    `}_generateIngredientMarkup(e){return`\n      <li class="recipe__ingredient">\n        <svg class="recipe__icon">\n          <use href="${t(In)}#icon-check"></use>\n        </svg>\n        <div class="recipe__quantity">${e.quantity||""}</div>\n        <div class="recipe__description">\n          <span class="recipe__unit">${e.unit}</span>\n          ${e.description}\n        </div>\n      </li>\n    `}addHandlerRender(e){["hashchange"].forEach((n=>window.addEventListener(n,e)))}addUpdateServingsHandler(e){this._parentElement.addEventListener("click",(function(n){const t=n.target.closest(".btn--update-servings");if(!t)return;let{newServings:r}=t.dataset;r=parseInt(r),r>0&&e(r)}))}addRecipeBookmarkHandler(e){this._parentElement.addEventListener("click",(function(n){n.target.closest(".btn--bookmark")&&e()}))}};var An=new class{#e=document.querySelector(".search");#n=this.#e.querySelector(".search__field");getQuery(){const e=this.#n.value;return this.#t(),e}#t(){this.#n.value=""}addHandler(e){this.#e.addEventListener("submit",(function(n){n.preventDefault(),e()}))}};var Un=new class extends Cn{_generateMarkup(){return`\n    <li class="preview">\n      <a class="preview__link ${window.location.hash.slice(1)===this._data.id?"preview__link--active":""}" href="#${this._data.id}">\n        <figure class="preview__fig">\n          <img src=${this._data.imageUrl} alt=${this._data.title} crossOrigin= "anonymous" />\n        </figure>\n        <div class="preview__data">\n          <h4 class="preview__title">${this._data.title}</h4>\n          <p class="preview__publisher">${this._data.publisher}</p>\n          <div class="preview__user-generated ${this._data.key?"":"hidden"}">\n            <svg>\n              <use href="${t(In)}#icon-user"></use>\n            </svg>\n          </div>\n        </div>\n      </a>\n    </li>\n  `}};var Fn=new class extends Cn{_parentElement=document.querySelector(".results");_errorMessage="Sorry, we couldn't find any recipe matching your query. Please try something else.";_successMessage="";_generateMarkup(){return this._data.map((e=>Un.render(e,!1))).join("")}};var Nn=new class extends Cn{_parentElement=document.querySelector(".pagination");addClickHandler(e){this._parentElement.addEventListener("click",(n=>{const t=n.target.closest(".pagination__btn");if(!t)return;const r=+t.dataset.pagetogo;e(r)}))}_generateMarkup(){const e=Math.ceil(this._data.results.length/this._data.resultsPerPage),n=this._data.page;return e>1&&1===n?`\n        <button data-pagetogo="${n+1}" class="btn--inline pagination__btn pagination__btn--next">\n          <span>Page ${n+1}</span>\n          <svg class="search__icon">\n            <use href="${t(In)}#icon-arrow-right"></use>\n          </svg>\n        </button>\n      `:e>1&&n>1&&n<e?`\n        <button data-pagetogo="${n-1}" class="btn--inline pagination__btn pagination__btn--prev">\n          <svg class="search__icon">\n            <use href="${t(In)}#icon-arrow-left"></use>\n          </svg>\n          <span>Page ${n-1}</span>\n        </button>\n        <button data-pagetogo="${n+1}" class="btn--inline pagination__btn pagination__btn--next">\n          <span>Page ${n+1}</span>\n          <svg class="search__icon">\n            <use href="${t(In)}#icon-arrow-right"></use>\n          </svg>\n        </button>\n      `:e>1&&n===e?`\n        <button data-pagetogo="${n-1}" class="btn--inline pagination__btn pagination__btn--prev">\n          <svg class="search__icon">\n            <use href="${t(In)}#icon-arrow-left"></use>\n          </svg>\n          <span>Page ${n-1}</span>\n        </button>\n      `:""}};var Dn=new class extends Cn{_parentElement=document.querySelector(".bookmarks__list");_errorMessage="Nothing to see here yet. Find your favorite recipes and bookmark them!";_successMessage="";addRenderHandler(e){window.addEventListener("load",e)}_generateMarkup(){return this._data.map((e=>Un.render(e,!1))).join("")}};var Bn=new class extends Cn{_parentElement=document.querySelector(".upload");_addRecipeWindow=document.querySelector(".add-recipe-window");_overlay=document.querySelector(".overlay");_btnOpenModal=document.querySelector(".nav__btn--add-recipe");_btnCloseModal=document.querySelector(".btn--close-modal");_successMessage="Your recipe has been successfully uploaded.";constructor(){super(),this._addOpenModalHandler(),this._addCloseModalHandler()}toggleModal(){this._overlay.classList.toggle("hidden"),this._addRecipeWindow.classList.toggle("hidden")}_addOpenModalHandler(){this._btnOpenModal.addEventListener("click",this.toggleModal.bind(this))}_addCloseModalHandler(){this._btnCloseModal.addEventListener("click",this.toggleModal.bind(this)),this._overlay.addEventListener("click",this.toggleModal.bind(this))}addUploadRecipeHandler(e){this._parentElement.addEventListener("submit",(n=>{n.preventDefault();const t=Object.fromEntries([...new FormData(n.target)]);e(t)}))}_generateMarkup(){}};const zn=async function(){try{const e=window.location.hash.slice(1);if(!e)return;Rn.renderSpinner(),Fn.update(Hn()),Dn.update(Ln.bookmarks),await async function(e){try{const n=await Tn(`https://forkify-api.herokuapp.com/api/v2/recipes/${e}?key=5cb68340-b9c7-4df9-9225-2d429f504ea9`),{recipe:t}=n.data,r={image_url:"imageUrl",source_url:"sourceUrl",cooking_time:"cookingTime"};Ln.recipe=Pn(r,t),Ln.bookmarks.some((n=>n.id===e))?Ln.recipe.isBookmarked=!0:Ln.recipe.isBookmarked=!1}catch(e){throw e}}(e),Rn.render(Ln.recipe)}catch(e){Rn.renderError(`ðŸ’¥ An error has occured: ${e}`)}},Wn=async function(){try{Fn.renderSpinner();const e=An.getQuery();if(!e)return;await async function(e){try{Ln.search.query=e;const n=await Tn(`https://forkify-api.herokuapp.com/api/v2/recipes/?search=${e}&key=5cb68340-b9c7-4df9-9225-2d429f504ea9`);Ln.search.results=n.data.recipes,Ln.search.results.forEach((e=>{e.imageUrl=e.image_url,delete e.image_url}))}catch(e){throw e}}(e),Fn.render(Hn(1)),Nn.render(Ln.search)}catch(e){Rn.renderError(`ðŸ’¥ An error has occured: ${e}`)}},Gn=e=>{Fn.render(Hn(e)),Nn.render(Ln.search)},Jn=e=>{!function(e){Ln.recipe.ingredients.forEach((n=>n.quantity=Math.round(n.quantity*e/Ln.recipe.servings))),Ln.recipe.servings=e}(e),Rn.update(Ln.recipe)},Vn=()=>{Ln.recipe.isBookmarked?function(e){const n=Ln.bookmarks.findIndex((n=>n.id===e));Ln.bookmarks.splice(n,1),e===Ln.recipe.id&&(Ln.recipe.isBookmarked=!1),xn()}(Ln.recipe.id):qn(Ln.recipe),Rn.update(Ln.recipe),Dn.render(Ln.bookmarks)},Qn=()=>{Dn.render(Ln.bookmarks)},Yn=async e=>{try{Bn.renderSpinner(),await async function(e){try{const n=Object.entries(e).filter((e=>e[0].startsWith("ingredient")&&""!==e[1])).map((e=>{const n=e[1].trim().split(","),[t,r,i]=n;if(3!==n.length)throw new Error("âŒ Invalid ingredient format. Please use the correct format to submit a recipe.");return{quantity:t?+t:null,unit:r,description:i}})),t={title:e.title,source_url:e.sourceUrl,image_url:e.image,publisher:e.publisher,cooking_time:+e.cookingTime,servings:+e.servings,ingredients:n,key:e.key},{data:r}=await Tn("https://forkify-api.herokuapp.com/api/v2/recipes/?key=5cb68340-b9c7-4df9-9225-2d429f504ea9",t),i=r.recipe,a={image_url:"imageUrl",source_url:"sourceUrl",cooking_time:"cookingTime"};Ln.recipe=Pn(a,i),qn(Ln.recipe)}catch(e){throw e}}(e),Rn.render(Ln.recipe),Bn.renderMessage(),Dn.render(Ln.bookmarks),window.history.pushState(null,null,`#${Ln.recipe.id}`),setTimeout((()=>{Bn.toggleModal()}),2e3)}catch(e){Bn.renderError(e)}};Dn.addRenderHandler(Qn),Rn.addHandlerRender(zn),An.addHandler(Wn),Nn.addClickHandler(Gn),Rn.addUpdateServingsHandler(Jn),Rn.addRecipeBookmarkHandler(Vn),Bn.addUploadRecipeHandler(Yn);
//# sourceMappingURL=index.341428bb.js.map
